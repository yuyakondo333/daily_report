# 今日学んだこと
## 取り組んだ課題
- ツイート作成
## わかったこと
- 認証情報は`CustomUser`、それ以外の情報は`Profile`で管理
- データ移行で削除する部分があったからかなり慎重に行った
    - `Profile`で新しいフィールドを定義（まだ`migrate`しない）
    - データ移行するメソッドを定義
    - 例外処理を定義
    - ロールバックメソッドを定義
    - `RunPython`で実行するメソッド、ロールバックメソッドを定義
- `CutomUser`で移行したデータの情報を削除するだけでは解決しない
    - Form, View, Template で使っている場合があるから
    - 全てProfileで新しく定義したものに修正する
- マイグレーションが失敗した場合にロールバックする必要があるが<br>`reverse_code`でロールバックのメソッドを定義したらロールバックしてくれる
- 各フィールドの命名も変更してスッキリした
    - 自己紹介（名前が長い）
        - 過去：`self_introduction`
        - 現在：`bio`
    - アイコン（imageいらない）
        - 過去：`icon_image`
        - 現在：`icon`
## 感じたこと
- 設計大事すぎる
## 次やること
- データ移行、削除完了
- ツイート作成
## 学習時間
- Today: 6.5h
- Total: 972h