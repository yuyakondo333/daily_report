# 今日学んだこと
## 取り組んだ課題
- メッセージ機能作成
## わかったこと
- CreateView は自動的にモデルインスタンスを作成しようとする
    - フォームの `fields` に含まれていないフィールドがあると不完全なオブジェクトが生成される
    - `RelatedObjectDoesNotExist` エラーの根本原因
- マイグレーション時に `--dry-run` オプションで事前確認が可能
    - `python manage.py makemigrations --dry-run`
- レイヤー分離の重要性
    - View層：HTTPリクエストの制御とバリデーション
    - Service層：ビジネスロジックの実装
    - 適切な責任分離でテスタビリティと保守性が向上
- DRY原則
    - 同じ処理を複数箇所に書かない
- モデルレベル vs フォームレベルの検証
    - モデルレベル（データ整合性）
    - フォームレベル（ビジネスルール）
- `get_form_kwargs()` の活用
    - フォームにカスタムデータを渡す方法
- 設計パターンと思考プロセス
    1. 最初: 単純な実装
    1. 問題発見: 重複コード、責任の混在
    1. リファクタリング: 責任分離、DRY原則適用
    1. 最適化: パフォーマンス、セキュリティ考慮
- 設計の判断基準
    - 凝集度を高く: 関連する機能を一箇所に
    - 結合度を低く: 各モジュール間の依存を最小限に
    - YAGNI原則: 必要になってから実装する
- 今後に活かせる教訓
    - 設計前の要件整理: ビジネスルールを明確にする
    - 段階的な実装: 最小限から始めて徐々に拡張
    - 責任の明確化: 各層、各クラスの役割を明確にする
    - テスト観点: テストしやすい設計を心がける
    - パフォーマンス: N+1問題などのDB処理を意識する
## 感じたこと
- コードを書く際に気をつける事を学べた
- CreateViewの扱いには注意する
## 次やること
- 既読機能
## 学習時間
- Today: 8h
- Total: 1141.5h